{{!-- modal --}}

<div class="modal" tabindex="-1" role="dialog" id="makeSnippetModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Post a Snippet</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form class="clearfix mb-4">
                    <div class="form-group">
                        <label for="example-title">Title</label>
                        <input type="text" id="title" class="form-control" aria-describedby="example-text" placeholder="Title" style="height:50px"></input>
                    </div>
                    <div class="form-group">
                        <label for="example-code">Code</label>
                        <textarea type="text" id="codeBlock" class="form-control" aria-describedby="example-text" placeholder="Enter Code"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="example-description">Description</label>
                        <textarea class="form-control" id="description" aria-describedby="example-description" placeholder="Enter Description"></textarea>
                    </div>
                    <div class="dropdown">
                        <label for="languageOptions">Code Language</label>
                        <select class="form-control required" id="languageOptions" style="width: 100%">
                            <option value="">Select Language</option>
                            <option value="java">Java</option>
                            <option value="cpp">C++</option>
                            <option value="csharp">C#</option>
                            <option value="javascript">JavaScript</option>
                            <option value="css">CSS</option>
                            <option value="json">JSON</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="submitSnippet" class="btn btn-light float-right">Submit</button>

                <button id="close" type="button" class="btn btn-warning" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


{{!-- Floating Sidebar --}} {{!--
<div class="sidebar">
    
    {{!-- <h5 class="userField">{{this.username}}</h5> 
    --}}
    <div class="dropdown">
          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true"
            aria-expanded="false">
            <i class="fas fa-code"></i> Languages
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
           <button class="dropdown-item langSelect" value = "java" type="button">Java</button>
           <button class="dropdown-item langSelect" value="cpp"    type="button">C++</button>
           <button class="dropdown-item langSelect" value="csharp"  type="button">C#</button>
           <button class="dropdown-item langSelect" value="javascript" type="button">Javascript</button>
           <button class="dropdown-item langSelect" value="css" type="button">CSS</button>
           <button class="dropdown-item langSelect" value="json" type="button">JSON</button>
         </div>
        </div>
      </li>
        <br><br>

    <h5 class="userField">{{this.username}}</h5>

</div> 


<div class="container ">
    <div class="row">

        {{!-- floating Sidebar --}}
        <div class="col-md-4 side">
            <div class="sidebar">

                {{!-- Insert Logged in user name --}}
                <h3 class="username">Welcome:{{username}}</h3>

                <button id="makeSnippet" type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#makeSnippetModal">Post a snippet!</button>

                {{!-- Show Trending languages --}}
                <div class="trending">
                <h5>Trending:</h5>
                <ol>
                    {{#each trending}}
                    <li>{{language}}</li>
                    {{/each}}
                </ol>
                </div>

                {{!-- Dropdown menu all Languages--}}
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true"
                        aria-expanded="false">
                        <i class="fas fa-code"></i> Languages
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <button class="dropdown-item langSelect" value="java" type="button">Java</button>
                        <button class="dropdown-item langSelect" value="cpp" type="button">C++</button>
                        <button class="dropdown-item langSelect" value="csharp" type="button">C#</button>
                        <button class="dropdown-item langSelect" value="javascript" type="button">Javascript</button>
                        <button class="dropdown-item langSelect" value="css" type="button">CSS</button>
                        <button class="dropdown-item langSelect" value="json" type="button">JSON</button>
                    </div>
                </div>


            </div>
        </div>

        {{!-- Snippet Cards --}}
        <div class="col-md-8 snippets">

            {{#each snippets}}
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">
                        {{this.title}}
                    </h5>

                    <h6 class="card-subtitle mb-2 text-muted">
                        {{this.User.username}}
                    </h6>

                    <pre><code class="language-{{language}} codeBlock">{{codeBlock}}</code></pre>

                    <p class="card-text text-muted">Language: {{language}}</p>
                    <p class="card-text" id="snippet-description">Description: {{description}}</p>

                    <form class="commentForm">
                        <div class="form-group commentFormText">
                            <label for="commentText">Comment</label>
                            <input type="text" class="form-control commentText" name="comment">
                        </div>
                        <button class="btn btn-warning submitComment" data-id={{this.id}}>Comment</button>
                    </form>


                    <br>
                    <div class="comments" id={{this.id}}>

                        {{!-- JSON rendered on load --}} 
                        {{#each this.Comments}}
                        <p>{{comment}} - - {{username}}</p>
                        {{/each}} 
                        {{!-- New comments will append here --}}


                    </div>
                </div>

            </div>
            {{/each}}
           
        </div>
    </div>

</div>